(function(t){function e(e){for(var n,s,r=e[0],d=e[1],c=e[2],l=0,p=[];l<r.length;l++)s=r[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,r=1;r<o.length;r++){var d=o[r];0!==a[d]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=o[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=n,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(o,n,function(e){return t[e]}.bind(null,n));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-todo-list/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=d;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034d":function(t,e,o){"use strict";o("ca11")},"19e2":function(t,e,o){},"38cd":function(t,e,o){"use strict";o("a445")},"4a18":function(t,e,o){"use strict";o("5870")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),a=o("8c4f"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{staticClass:"wrap"},[o("div",{attrs:{id:"nav"}},[o("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Список задач")]),o("router-link",{staticClass:"nav-link",attrs:{to:"/new-task"}},[t._v(" Добавить задачу ")])],1),t.isLoading?o("Loader"):o("router-view")],1)])},s=[],r=o("5530"),d=o("2f62"),c=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},u=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"loader-container"},[o("div",{staticClass:"loader"})])}],l={},p=l,f=(o("034d"),o("2877")),m=Object(f["a"])(p,c,u,!1,null,"34d554f0",null),v=m.exports,h={name:"App",components:{Loader:v},mounted:function(){var t=this;this.fetchTodoList().then((function(){setTimeout((function(){return t.doneLoading()}),1e3)}))},computed:Object(r["a"])({},Object(d["c"])(["isLoading"])),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])(["fetchTodoList"])),Object(d["d"])(["doneLoading"]))},b=h,g=(o("cf25"),Object(f["a"])(b,i,s,!1,null,null,null)),T=g.exports,_=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card-list"},t._l(t.allTodos,(function(t){return o("TodoCard",{key:t.id,attrs:{todo:t}})})),1)},O=[],j=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-card",class:t.todo.status},[o("div",{staticClass:"todo-card-head"},[o("h4",[t._v(t._s(t.todo.title))]),o("div",{staticClass:"status-container"},[o("span",{staticClass:"status"},[t._v(t._s(t.status))])])]),o("p",[t._v(t._s(t.todo.description))]),o("router-link",{staticClass:"edit",attrs:{tag:"button",to:"/task/"+t.todo.id}},[t._v(" Изменить ")]),o("button",{staticClass:"delete",on:{click:t.deleteClick}},[t._v("Удалить")]),o("span",{staticClass:"date"},[t._v(" Создано "+t._s(t.date)+" ")])],1)},w=[],y={new:"Новая","in-progress":"В процессе",completed:"Выполнена"},C={props:{todo:{type:Object,required:!0}},methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])(["deleteTodo"])),{},{deleteClick:function(){this.deleteTodo(this.todo.id)}}),computed:{status:function(){return y[this.todo.status]},date:function(){return new Date(this.todo.createdAt).toLocaleDateString()}}},k=C,L=(o("4a18"),Object(f["a"])(k,j,w,!1,null,"a25e5d22",null)),x=L.exports,$={computed:Object(d["c"])(["allTodos"]),components:{TodoCard:x}},S=$,E=(o("adbb"),Object(f["a"])(S,_,O,!1,null,"4a2c7b1d",null)),P=E.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[o("div",{staticClass:"todo-container"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],attrs:{type:"text",name:"title",placeholder:"Название задачи"},domProps:{value:t.todo.title},on:{input:function(e){e.target.composing||t.$set(t.todo,"title",e.target.value)}}}),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.todo.description,expression:"todo.description"}],attrs:{type:"text",name:"description",placeholder:"Описание задачи"},domProps:{value:t.todo.description},on:{input:function(e){e.target.composing||t.$set(t.todo,"description",e.target.value)}}}),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.todo.status,expression:"todo.status"}],class:t.todo.status,attrs:{name:"status"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.todo,"status",e.target.multiple?o:o[0])}}},t._l(t.statusCaptions,(function(e,n,a){return o("option",{key:a,class:n,domProps:{value:n}},[t._v(" "+t._s(e)+" ")])})),0),o("button",{staticClass:"add",class:{disabled:""===t.todo.title.trim()},attrs:{type:"submit"}},[t._v(" "+t._s(t.isEditing?"Сохранить":"Добавить")+" ")]),t.todo.id?o("button",{staticClass:"delete",on:{click:t.deleteClick}},[t._v(" Удалить ")]):t._e()])])},A=[],D=(o("498a"),{data:function(){return{todo:{title:"",description:"",status:"new",createdAt:(new Date).getTime()},isEditing:!1}},computed:Object(r["a"])(Object(r["a"])({},Object(d["c"])(["getTodo"])),{},{statusCaptions:function(){return y}}),methods:Object(r["a"])(Object(r["a"])({},Object(d["b"])(["createTodo","deleteTodo","updateTodo"])),{},{submit:function(){""!==this.todo.title.trim()&&(this.isEditing?this.updateTodo(this.todo):this.createTodo(this.todo),this.$router.push("/"))},deleteClick:function(){this.deleteTodo(this.todo.id),this.$router.push("/")}}),mounted:function(){if(void 0!==this.$route.params.id){this.isEditing=!0;var t=this.getTodo(this.$route.params.id);if(!t)return void console.error("Todo with id=".concat(this.$route.params.id," wasn't found"));this.todo=t}}}),I=D,J=(o("38cd"),Object(f["a"])(I,N,A,!1,null,"29ca7edb",null)),M=J.exports,R=[{path:"/",name:"Home",component:P},{path:"/task/:id",name:"Task ",component:M},{path:"/new-task",name:"New task",component:M}],q=new a["a"]({mode:"history",routes:R});q.beforeResolve((function(t,e,o){q.app.$store.commit("startLoading"),setTimeout((function(){o(),q.app.$store.commit("doneLoading")}),1e3)}));var H=q,z=o("1da1"),B=(o("96cf"),o("7db0"),o("d3b7"),o("e9c4"),o("c740"),o("a434"),{state:{todos:[]},getters:{allTodos:function(t){return t.todos},getTodo:function(t){return function(e){return t.todos.find((function(t){return t.id===e}))}}},actions:{fetchTodoList:function(t){return Object(z["a"])(regeneratorRuntime.mark((function e(){var o,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o=t.commit,n=localStorage.getItem("todos"),n)try{a=JSON.parse(n),o("updateTodoList",a)}catch(i){console.error(i)}case 3:case"end":return e.stop()}}),e)})))()},saveToStorage:function(t){var e=t.state,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.todos;localStorage.setItem("todos",JSON.stringify(o))},updateTodo:function(t,e){var o=t.commit,n=t.dispatch;o("updateTodo",e),n("saveToStorage")},createTodo:function(t,e){var o=t.commit,n=t.dispatch;o("createTodo",e),n("saveToStorage")},deleteTodo:function(t,e){var o=t.commit,n=t.dispatch;o("deleteTodo",e),n("saveToStorage")}},mutations:{updateTodoList:function(t,e){t.todos=e},updateTodo:function(t,e){var o=t.todos.findIndex((function(t){return t.id===e.id}));t.todos.splice(o,1,e)},createTodo:function(t,e){e.id=e.createdAt+e.title,t.todos.push(e)},deleteTodo:function(t,e){var o=t.todos.findIndex((function(t){return t.id===e}));t.todos.splice(o,1)}}}),F={state:{isLoading:!0},getters:{isLoading:function(t){return t.isLoading}},mutations:{doneLoading:function(t){t.isLoading=!1},startLoading:function(t){t.isLoading=!0}}};n["a"].use(d["a"]);var G=new d["a"].Store({modules:{todos:B,loader:F}});n["a"].config.productionTip=!1,n["a"].use(a["a"]),new n["a"]({render:function(t){return t(T)},router:H,store:G}).$mount("#app")},5870:function(t,e,o){},a445:function(t,e,o){},adbb:function(t,e,o){"use strict";o("19e2")},ca11:function(t,e,o){},cf25:function(t,e,o){"use strict";o("fea6")},fea6:function(t,e,o){}});
//# sourceMappingURL=app.4d9f5a69.js.map